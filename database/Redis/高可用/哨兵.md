Redis主从切换的方式：**当主服务器宕机，需要手动把一台从服务器切换为主服务器，这就需要人工干预，费时费力，还会造成一段时间内服务不可用**。这时有另外一种推荐的方法： Redis哨兵模式

 ![](https://gitee.com/Vanni/pic-bed/raw/master/img/image-20210203110218692.png)

​	![](https://gitee.com/Vanni/pic-bed/raw/master/img/image-20210203110235413.png)

​	![image-20210203110524506](https://gitee.com/Vanni/pic-bed/raw/master/img/image-20210203110524506.png)



## 概述

**是一种特殊的模式，是一个独立的进程，单独运行**，其运行原理是哨兵通过发送命令，等待Redis服务器响应，从而监控运行的多个Redis实例。

 ![image-20210203110110609](https://gitee.com/Vanni/pic-bed/raw/master/img/image-20210203110110609.png)

 

显然，哨兵的作用有两个：

- 通过发送命令，让Redis服务器返回监控的运行状态，包括主服务器和从服务器

- 当哨兵监测到master宕机，会自动将slave切换为master，然后通过**发布订阅模式**来通知其他slave，修改配置文件，让他们切换主机

 

然而**哨兵作为一个独立的进程，也会出现宕机的情况**，所以应该使用多个哨兵进行监控，且各个哨兵之间还能互相监控，形成哨兵集群

哨兵集群中，需用通过投票来判断一个服务器是否有出现宕机，然后通过权重算法，从剩下的slave节点中，选出一个作为master，然后自动修改相关配置

 

单个哨兵无法接通，则认为是“主观宕机”，若一定数量的哨兵都是主观宕机，则系统判断为“客观宕机”

![莓 个 兵 (sentinel) 会 向 其 它 乓 阝 entinel) 、 master 、 引 “ e 定 时 发 送 消 0 以 确 认 对 方 是 否 “ 活 “ 看 ， 如 果 发 现 对 方 在 指 定  时 间 〔 可 配 置 ） 内 耒 回 应 ， 则 暂 时 认 为 对 方 已 扌 圭 （ 所 的 ' ' 一 subjective Downs 称 sdown).  若 " 兵 群 ' ' 中 的 多 数 sentine ， 都 报 告 某 一 maste 餒 呃 应 ， 系 统 才 认 为 该 master" 彻 底 死 亡 气 即 ： 客 观 上 的 真 正 d 。 wn  机 ,Objective Down ， 简 称 。 dow 醇 通 过 一 定 的 vote 法 ， 从 愆 下 的 s | ave 节 中 ， 选 一 台 提 升 为 master ， 然 管 自 动 修 改 相 关 配 ](data:image/png;base64,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)

#  Sentinel集群

如果哨兵是单体的话，那么仍然存在单体故障，这样就毫无意义了。所以Sentinel是要配置成集群的。

在集群中，当redis没有故障发生时，所有的哨兵都是平等的。

当redis发生故障时，在集群中需要选举出一个哨兵作为领头，进行故障转移工作。当完成一次故障转移后，又会卸去领头的位置。此时所有哨兵又会是平等的状态。

## Sentinel配置

 在配置Sentinel前，需要先配置好主从模式

本文中的Redis版本为4.0，通过编译安装的redis

在安装目录下，可见配置文件 `sentinel.conf` 与 src目录下可执行程序 `redis-sentinel`，把这两个文件拷贝到 /usr/local/redis/ 目录下

以下是 `sentinel.conf` 的配置

```ini
# 1. 绑定的地址
bind 172.19.131.247
# 2. 保护模式修改为否，允许远程连接
protected-mode no
# 3. 设定sentinel myid 每个都不一样
sentinel myid 04d9d3fef5508f60498ac014388571e719188527
# 4. 配置监听的主服务器，这里sentinel monitor代表监控，mymaster代表服务器的名称，可以自定义，192.168.11.128代表监控的主服务器，6379代表端口，2代表只有两个或两个以上的哨兵认为主服务器不可用的时候，才会进行failover操作。
sentinel monitor mymaster 172.16.48.129 6379 2
# 5. 设定5秒内没有响应，说明服务器挂了,需要将配置放在sentinel monitor master 127.0.0.1 6379 1下面， 单位是毫秒
sentinel down-after-milliseconds mymaster 5000
# 6. 设定15秒内master没有活起来，就重新选举主, 单位是毫秒
sentinel failover-timeout mymaster 15000
# 7. 表示如果master重新选出来后，其它slave节点能同时并行从新master同步缓存的台数有多少个，显然该值越大，所有slave节点完成同步切换的整体速度越快，但如果此时正好有人在访问这些slave，可能造成读取失败，影响面会更广。最保定的设置为1，只同一时间，只能有一台干这件事，这样其它slave还能继续服务，但是所有slave全部完成缓存更新同步的进程将变慢。
sentinel parallel-syncs mymaster 2
# 8. 主数据库密码,需要将配置放在sentinel monitor master 127.0.0.1 6379 1下面
sentinel auth-pass mymaster 123456789
```

注意：含有mymaster的配置，都必须放置在sentinel monitor mymaster 172.16.48.129 6379 2之后，否则会出现问题

```shell
# 启动需要按照Master->Slave->Sentinel的顺序进行启动
# 启动redis
systemctl restart redis
# 启动redis哨兵
systemctl restart redis-sentinel
```

| 配置项                           | 参数形式                     | 说明                                                         |
| -------------------------------- | ---------------------------- | ------------------------------------------------------------ |
| port                             | 整数                         | 启动哨兵进程端口                                             |
| dir                              | 文件夹目录                   | 哨兵进程服务临时文件夹，默认为/tmp，要保证有可写入的权限     |
| sentinel down-after-milliseconds | <服务名称><毫秒数（整数）>   | 指定哨兵在监控Redis服务时，当Redis服务在一个默认毫秒数内都无法回答时，单个哨兵认为的主观下线时间，默认为30000（30秒） |
| sentinel parallel-syncs          | <服务名称><服务器数（整数）> | 指定可以有多少个Redis服务同步新的主机，一般而言，这个数字越小同步时间越长，而越大，则对网络资源要求越高 |
| sentinel failover-timeout        | <服务名称><毫秒数（整数）>   | 指定故障切换允许的毫秒数，超过这个时间，就认为故障切换失败，默认为3分钟 |
| sentinel notification-script     | <服务名称><脚本路径>         | 指定sentinel检测到该监控的redis实例指向的实例异常时，调用的报警脚本。该配置项可选，比较常用 |

## Sentinel和Slave自动发现机制

 

不需要在任何一个Sentinel配置任何其他的Sentinel节点，因为Sentinel利用master的发布/订阅功能自动发现和监控统一master的Sentinel节点

 

通过向名为__sentinel__:hello的管道中发送消息来实现。

 

同样，不需要在Sentinel中配置某个Master的所有Slave信息，Sentinel会通过INFO命令来询问Master得到这个Slave的命令

 

每个sentinel通过向每个master和slave的发布/订阅频道`sentinel:hello`每秒发送一次消息，来宣布它的存在。

每个sentinel也订阅了每个master和slave的频道`sentinel:hello`的内容，来发现未知的sentinel，当检测到了新的sentinel，则将其加入到自身维护的master监控列表中。

 

## 增加或删除Sentinel

 

由于有sentinel自动发现机制，所以添加一个sentinel到你的集群中非常容易，你所需要做的只是监控到某个Master上，然后新添加的sentinel就能获得其他sentinel的信息以及master所有的slaves。

如果你需要添加多个sentinel，建议你一个接着一个添加，这样可以预防网络隔离带来的问题。你可以每个30秒添加一个sentinel。最后你可以用SENTINEL MASTER mastername来检查一下是否所有的sentinel都已经监控到了master。

删除一个sentinel显得有点复杂：因为sentinel永远不会删除一个已经存在过的sentinel，即使它已经与组织失去联系很久了。

要想删除一个sentinel，应该遵循如下步骤：

1）停止所要删除的sentinel

2）发送一个`SENTINEL RESET * `命令给所有其它的sentinel实例，如果你想要重置指定master上面的sentinel，只需要把*号改为特定的名字，注意，需要一个接一个发，每次发送的间隔不低于30秒。

3）检查一下所有的sentinels是否都有一致的当前sentinel数。使用SENTINEL MASTER mastername 来查询。

###  Sentinel和Master的身份验证

当一个master配置为需要密码才能连接时，客户端和slave在连接时都需要提供密码。

master通过requirepass设置自身的密码，不提供密码无法连接到这个master。

slave通过masterauth来设置访问master时的密码。

但是当使用了sentinel时，由于一个master可能会变成一个slave，一个slave也可能会变成master，所以需要同时设置上述两个配置项。

 

# 哨兵工作方式

1. 每个Sentinel以每秒钟一次的频率向它所知的Master，Slave以及其他  Sentinel 实例发送一个PING命令。
2. 如果一个实例（instance）距离最后一次有效回复PING命令的时间超过   down-after-milliseconds 选项所指定的值，则这个实例会被Sentinel标记为主观下线。 
3. 如果一个Master被标记为主观下线，则正在监视这个Master的所有     Sentinel 要以每秒一次的频率确认Master的确进入了主观下线状态。 
4. 当有足够数量的Sentinel（大于等于配置文件指定的值）在指定的时间范围内确认Master的确进入了主观下线状态，则Master会被标记为客观下线。
5. 在一般情况下，每个Sentinel     会以每10秒一次的频率向它已知的所有Master，Slave发送 INFO 命令。
6. 当Master被Sentinel标记为客观下线时，Sentinel     向下线的 Master 的所有Slave发送 INFO命令的频率会从10秒一次改为每秒一次。 
7. 若没有足够数量的Sentinel同意Master已经下线，Master的客观下线状态就会被移除。     若 Master重新向Sentinel 的PING命令返回有效回复，Master的主观下线状态就会被移除。



![image-20210203155929902](https://gitee.com/Vanni/pic-bed/raw/master/img/image-20210203155929902.png)

## 主观下线

每秒钟，单个Sentinel会对Redis节点发送PING心跳检测，以此判断服务器是否断线

指的是单个Sentinel实例对服务器做出的下线判断，当Master服务器没有在指定的毫秒数内，没有返回PING命令的回复，则Sentinel标记这个服务器为主观下线（SRI_S_DOWN）

这个毫秒数是通过 **down-after-milliseconds** 来配置的，若有多个Sentinel同时监控一个Master，则可能存在多个Sentinel的down-after-milliseconds不同

当sentinel发送PING后，以下回复之一都被认为是合法的：

- PING replied with +PONG.

- PING replied with -LOADING error.

- PING replied with -MASTERDOWN error.

其它任何回复（或者根本没有回复）都是不合法的。

## 客观下线

指的是**有足够多数量的哨兵都将一个服务器标识为主观下线**（这个值可以配置，且称为**quorum**），服务器才会被标记为客观下线

**只有当master标记为客观下线时，才会发生故障迁移**

**quorum**的值一般设置为整个哨兵集群个数的二分之一加一



判断过程如下：

1. 当某个sentinel判断master为主观下线后，向其他sentinel发送 sentinel is-master-down-by-addr 命令询问其他sentinel该master是否主观下线

2. 当集群中认为master主观下线的数量达到前面设置的**quorum**后，则认为该master是客观下线                                                                                                                                                             

### is-master-down-by-addr命令解析

命令： SENTINEL is-master-down-by-addr ip port current_epoch runid

参数解析

- ip：   主观下线的服务IP
- port：  主观下线的服务端口
- Current_epoch: sentinel的纪元
- runid：  【*】表示检测服务下线状态，【sentinel运行id】表示源sentinel要求目标sentinel选举其为领头

一个sentinel接收到另一个sentinel的is-master-down-by-addr后，提取参数，根据IP和端口来检测master是否主观下线，并且回复 is-master-down-by-addr，回复包含三个参数

- Down_state:   1表示已下线，0表示未下线
- Leader_runid:  领头sentinel的ID
- Leader_epoch:  领头sentinel纪元

## sentinel的"仲裁会"

 

当一个Master被标记为客观下线后，则会触发FailOver（故障迁移），但并不会马上执行，而是需要先得到集群中大多数Sentinel授权后才能进行failOver

 

假设客观下线的阈值**quorum**设置为2，而集群中Sentinel数量为5，则如有两台Sentinel判断Master为主观下线后，则master标记为客观下线，触发FailOver

 

但是执行FailOver的那个哨兵，必须先要得到至少3个Sentinel的授权才可以实行FailOver

 

## 故障迁移步骤

 

当master被标记为客观下线时，哨兵将要进行故障迁移，有下面几个步骤

 

1. 在哨兵集群中选举出领头，由领头进行故障迁移的过程
2. 从下线的主服务器的**所有从服务器中**选取一个，将其转成主服务
3. 已下线的主服务的**所有从服务器改为复制新的主服务**
4. 将已下线的主服务设置成新的主服务的从服务，当其回复正常时，复制新的主服务，变成新的主服务的从服务

 

 

 

## 选举哨兵领头

 

故障迁移的工作需要由领头完成，领头通过哨兵的选举产生

 

选举领头Sentinel遵循以下规则：

1）所有的sentinel都有公平被选举成领头的资格。

2）所有的sentinel都有且只有一次将某个sentinel选举成领头的机会（在一轮选举中），一旦选举某个sentinel为领头，不能更改。

3）sentinel设置领头sentinel是先到先得，一旦当前sentinel设置了领头sentinel，以后要求设置sentinel为领头请求都会被拒绝。

4）每个发现服务客观下线的sentinel，都会要求其他sentinel将自己设置成领头。

5）当一个sentinel（源sentinel）向另一个sentinel（目sentinel）发送is-master-down-by-addr ip port current_epoch runid命令的时候，runid参数不是*，而是sentinel运行id，就表示源sentinel要求目标sentinel选举其为领头。

6）源sentinel会检查目标sentinel对其要求设置成领头的回复，如果回复的leader_runid和leader_epoch为源sentinel，表示目标sentinel同意将源sentinel设置成领头。

7）如果某个sentinel被半数以上的sentinel设置成领头，那么该sentinel既为领头。

8）如果在限定时间内，没有选举出领头sentinel，暂定一段时间，再选举。



选举过程：

 

1）每个做主观下线的sentinel节点向其他sentinel节点发送上面那条命令，要求将它设置为领导者。

2）收到命令的sentinel节点如果还没有同意过其他的sentinel发送的命令（还未投过票），那么就会同意，否则拒绝。

3）如果该sentinel节点发现自己的票数已经过半且达到了quorum的值，就会成为领导者

4）如果这个过程出现多个sentinel成为领导者，则会等待一段时间重新选举。

 

## Slave选举与优先级

 

当一个sentinel准备好了要进行failover，并且收到了其他sentinel的授权，那么就需要选举出一个合适的slave来做为新的master。

slave的选举主要会评估slave的以下几个方面：

1）与master断开连接的次数

2）Slave的优先级

3）数据复制的下标(用来评估slave当前拥有多少master的数据)

4）进程ID

如果一个slave与master失去联系超过10次，并且每次都超过了配置的最大失联时间(down-after-milliseconds)，如果sentinel在进行failover时发现slave失联，那么这个slave就会被sentinel认为不适合用来做新master的。

更严格的定义是，如果一个slave持续断开连接的时间超过

(down-after-milliseconds * 10) + milliseconds_since_master_is_in_SDOWN_state

就会被认为失去选举资格。

符合上述条件的slave才会被列入master候选人列表，并根据以下顺序来进行排序：

1）sentinel首先会根据slaves的优先级来进行排序，优先级越小排名越靠前。

2）如果优先级相同，则查看复制的下标，哪个从master接收的复制数据多，哪个就靠前。

3）如果优先级和下标都相同，就选择进程ID较小的那个。

一个redis无论是master还是slave，都必须在配置中指定一个slave优先级。要注意到master也是有可能通过failover变成slave的。

如果一个redis的slave优先级配置为0，那么它将永远不会被选为master。但是它依然会从master哪里复制数据。

 

## FailOver故障迁移

 

1. 发现主服务器已经进入客观下线状态。
2. 对我们的当前集群进行自增， 并尝试在这个集群中当选。
3. 如果当选失败， 那么在设定的故障迁移超时时间的两倍之后， 重新尝试当选。 如果当选成功， 那么执行以下步骤：
4. 选出一个从服务器，并将它升级为主服务器。
5. 向被选中的从服务器发送 SLAVEOF NO ONE     命令，让它转变为主服务器。
6. 通过发布与订阅功能， 将更新后的配置传播给所有其他     Sentinel ， 其他 Sentinel 对它们自己的配置进行更新。
7. 向已下线主服务器的从服务器发送 SLAVEOF 命令，     让它们去复制新的主服务器。
8. 当所有从服务器都已经开始复制新的主服务器时， 领头     Sentinel 终止这次故障迁移操作。
9. 每当一个 Redis 实例被重新配置（reconfigured）     —— 无论是被设置成主服务器、从服务器、又或者被设置成其他主服务器的从服务器 —— Sentinel 都会向被重新配置的实例发送一个 CONFIG     REWRITE 命令， 从而确保这些配置会持久化在硬盘里。

 

当然，可以进行手动故障转移，这样就不需要进行选举过程

![img](data:image/png;base64,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)

 