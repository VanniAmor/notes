# JAVA位运算


## 原码、反码、补码

【博客原文】https://www.cnblogs.com/zhangziqiu/archive/2011/03/30/ComputerCode.html

[![trHPQx.png](https://s1.ax1x.com/2020/06/05/trHPQx.png)](https://imgchr.com/i/trHPQx)

#### 原码

> **使用最高位表示符号，其余表示数值**

```
[+1] = 0000 0001
[-1] = 1000 0001

故8位二进制取值范围是
-127 ~ +127

n位二进制取值范围

-2^n -1 ~ 2^n -1 

```
    

#### 反码

> **正数的反码就是其原码，负数的反码在原码的基础上，符号位不变，其余各位取反**

```
[+1] = [0000 0001]原 = [0000 0001]反
[-1] = [1000 0001]原 = [1111 1110]反
```

#### 补码

> **正数的补码是其本身，负数的补码是其反码+1**

```
[+1] = [0000 0001]原 = [0000 0001]反 = [0000 0001]补
[-1] = [1000 0001]原 = [1111 1110]反 = [1111 1111]补
```

### 为什么需要用补码表示一个数

计算机中并没有减法器，是用加法来实现减法的，但是原码减法结果不正确，反码表示0有两种结果，所以采用补码的方式来表示一个数


## JAVA移位操作

【博客原文】https://www.cnblogs.com/chuijingjing/p/9405598.html

### << 左移操作

==<<表示左移，低位补0==

**左移操作等于乘2，移N位，乘2^N**

```
左移时不管正负，低位补0

正数：r = 20 << 2

　　20的二进制补码：0001 0100

　　向左移动两位后：0101 0000

　　　　   　　结果：r = 80
　　　　   　　
负数：r = -20 << 2

　　-20 的二进制原码 ：1001 0100

　　-20 的二进制反码 ：1110 1011

　　-20 的二进制补码 ：1110 1100

　　左移两位后的补码：1011 0000

　　　　　　　　反码：1010 1111

　　　　　　　　原码：1101 0000

　　　　　　　　结果：r = -80
```

### >> 右移操作（算术右移）

整个数往右移，且最高位符号位不参与移动

**左移操作等于除以2，移N位，除以2^N**
```
注：以下数据类型默认为byte-8位

正数：r = 20 >> 2

　　20的二进制补码：0001 0100

　　向右移动两位后：0000 0101

　　　　　　　结果：r = 5

负数：r = -20 >> 2

　　-20 的二进制原码 ：1001 0100

　　-20 的二进制反码 ：1110 1011

　　-20 的二进制补码 ：1110 1100 

　　右移两位后的补码：1111 1011 

　　　　　　　　反码：1111 1010

　　　　　　　　原码：1000 0101

　　　　　　　　结果：r = -5
```

### >>> 逻辑右移

==表示无符号右移，右移后高位补0==

```
正数：　r = 20 >>> 2

　　　　的结果与 r = 20 >> 2 相同；

负数：　r = -20 >>> 2

注：以下数据类型默认为int 32位

　　-20:源码：10000000 00000000 00000000 00010100

　　　　反码：11111111  11111111   11111111   11101011

　　　　补码：11111111  11111111   11111111   11101100

　　　　右移：00111111  11111111   11111111   11111011

　　　　结果：r = 1073741819

 
```
